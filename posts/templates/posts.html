{% extends 'base.html' %}
{% block content %}
{% if user.is_staff %}
<div class="container">
	<div class="card text-white">
		<p class="lead">Admin Panel</p>
		<a class="btn " data-toggle="tooltip" data-placement="top" title="View and purchase"
			href="{% url 'new_post' %}">New Product
		</a>
	</div>
	{% endif %}
    <div class="container">
<form method="GET">
{{post_filter.form}}
<button class="btn btn-primary" type="submit">Search</button>
</form>
</div>
	<div class="row">
		{% for post in posts %}
		<div class="card-deck col-xs-12 col-md-4">
			<div class="card text-white">
				<img class="card-img-top img-fluid default-image" src="{{ MEDIA_URL }}{{ post.image }}" alt="Product image">
				<div class="card-header">
					<div class="card-title">
						<a class="lead" data-toggle="tooltip" data-placement="top" title="View and purchase"
							href="{% url 'post_detail' post.id %}">{{post.title}}</a>
					</div>
					<div class="row review-text lead">
						<p class="lead">Â£{{ post.price }}</p>
					</div>
				</div>
			</div>
		</div>
		{% endfor %}

		<div class="pagination">
			<span class="step-links">
        {% if posts.has_previous %}
            <a href="?page=1">&laquo; first</a>
            <a href="?page={{ posts.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ posts.number }} of {{ posts.paginator.num_pages }}.
        </span>

			{% if posts.has_next %}
			<a href="?page={{ posts.next_page_number }}">next</a>
			<a href="?page={{ posts.paginator.num_pages }}">last &raquo;</a>
			{% endif %}
			</span>
		</div>
	</div>


	{% endblock %}